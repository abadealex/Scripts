<!-- app/main/templates/main/index.html -->
{% extends "base.html" %}

{% block title %}Welcome - SmartScripts{% endblock %}

{% block content %}
<div class="container text-center mt-5 pt-5">
  {% if current_user.is_authenticated %}
    <h2 class="mb-4">Welcome back, {{ current_user.username }}!</h2>

    {% if current_user.role == 'teacher' %}
      <a href="{{ url_for('main_bp.teacher_dashboard') }}" class="btn btn-primary btn-lg m-2">
        Go to Teacher Dashboard
      </a>
    {% elif current_user.role == 'student' %}
      <a href="{{ url_for('main_bp.student_dashboard') }}" class="btn btn-primary btn-lg m-2">
        Go to Student Dashboard
      </a>
    {% else %}
      <!-- Fallback if role is unknown -->
      <a href="{{ url_for('main_bp.dashboard') }}" class="btn btn-outline-primary btn-lg m-2">
        Go to Dashboard
      </a>
    {% endif %}

  {% else %}
    <h1 class="display-4">Welcome to SmartScripts</h1>
    <p class="lead">
      AI-powered answer sheet evaluation with feedback, scoring, and visual annotations.
    </p>
    <div class="mt-4">
      <a href="{{ url_for('auth_bp.login') }}" class="btn btn-primary btn-lg m-2">Login</a>
      <a href="{{ url_for('auth_bp.register') }}" class="btn btn-outline-secondary btn-lg m-2">Register</a>
    </div>
  {% endif %}
</div>
{% endblock %}
